<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Sound Explorer â€” reading.games</title>
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box}

:root{
  --black:#000000;--gray-1:#0D0D0D;--gray-2:#1A1A1A;--gray-3:#262626;--gray-4:#333333;
  --gray-text:#888888;--teal:#00FFF2;--teal-dim:rgba(0,255,242,.12);--teal-glow:rgba(0,255,242,.2);
  --red:#FF4757;--green:#2ED573;
}

body{font-family:'Inter',system-ui,sans-serif;min-height:100vh;overflow-x:hidden;background:var(--black);color:#fff;-webkit-user-select:none;user-select:none;position:relative}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(255,255,255,.02) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.02) 1px,transparent 1px);background-size:60px 60px;pointer-events:none;z-index:0}
.orb{position:fixed;border-radius:50%;filter:blur(120px);pointer-events:none;z-index:0}
.orb-1{width:400px;height:400px;background:rgba(0,255,242,.06);top:-120px;left:-120px}
.orb-2{width:350px;height:350px;background:rgba(0,255,242,.04);bottom:-100px;right:-100px}

#app{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;position:relative;z-index:1}

/* ===== WELCOME ===== */
.welcome{text-align:center;animation:fadeIn .5s ease;max-width:440px;width:100%}
.welcome h1{font-size:2.6rem;font-weight:900;letter-spacing:-0.03em;margin-bottom:4px}
.welcome h1 span{color:var(--teal)}
.welcome .mascot{display:block;width:100px;height:auto;margin:8px auto;animation:float 3s ease-in-out infinite}
.welcome .subtitle{font-size:1rem;color:var(--gray-text);margin-bottom:24px}
.level-badge{display:inline-block;font-size:.75rem;font-weight:700;color:var(--teal);background:var(--teal-dim);padding:4px 12px;border-radius:6px;margin-bottom:16px;letter-spacing:.04em;text-transform:uppercase}
.set-grid{display:flex;flex-direction:column;gap:10px;width:100%}
.set-btn{padding:16px 20px;border:1px solid var(--gray-3);border-radius:14px;font-size:1.05rem;font-family:inherit;cursor:pointer;color:#fff;font-weight:600;background:var(--gray-2);transition:transform .12s,border-color .2s,box-shadow .2s;display:flex;align-items:center;gap:14px;text-align:left}
.set-btn:hover{border-color:var(--teal);box-shadow:0 0 20px rgba(0,255,242,.08);transform:translateY(-2px)}
.set-btn:active{transform:translateY(1px)}
.set-btn .set-label{font-weight:700;color:var(--teal);font-size:.9rem;min-width:36px}
.set-btn .set-patterns{font-size:.82rem;color:var(--gray-text);font-weight:400;margin-top:2px}
.set-btn .set-arrow{margin-left:auto;color:var(--gray-text);font-size:1.2rem}

/* ===== SET MENU ===== */
.set-menu{text-align:center;animation:fadeIn .4s ease;max-width:440px;width:100%}
.set-menu h2{font-size:2rem;font-weight:900;letter-spacing:-0.03em;margin-bottom:4px}
.set-menu h2 span{color:var(--teal)}
.set-menu .set-desc{font-size:.95rem;color:var(--gray-text);margin-bottom:24px}
.pattern-chips{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:24px}
.pattern-chip{background:var(--gray-2);border:1px solid var(--gray-3);border-radius:10px;padding:8px 14px;font-size:1rem;font-weight:700;color:var(--teal);letter-spacing:.02em}
.mode-buttons{display:flex;flex-direction:column;gap:10px}
.mode-btn{padding:18px 24px;border:none;border-radius:14px;font-size:1.15rem;font-family:inherit;cursor:pointer;font-weight:700;transition:transform .12s,box-shadow .2s;display:flex;align-items:center;gap:12px;justify-content:center}
.mode-btn:active{transform:translateY(1px)}
.mode-btn.study{background:var(--gray-2);color:#fff;border:1px solid var(--gray-3)}
.mode-btn.study:hover{border-color:var(--teal);box-shadow:0 0 20px rgba(0,255,242,.1)}
.mode-btn.quiz{background:var(--teal);color:#000}
.mode-btn.quiz:hover{box-shadow:0 0 25px rgba(0,255,242,.25)}

/* ===== STUDY MODE ===== */
.study-screen{text-align:center;animation:fadeIn .3s ease;max-width:500px;width:100%}
.study-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.study-header .set-name{font-size:1rem;font-weight:600;color:var(--gray-text)}
.study-header .card-count{font-size:.9rem;color:var(--gray-text)}
.study-card{background:var(--gray-2);border:1px solid var(--gray-3);border-radius:18px;padding:24px;margin-bottom:16px;text-align:center}
.study-pattern{font-size:3rem;font-weight:900;color:var(--teal);letter-spacing:.02em;margin-bottom:16px}
.study-pattern .pat-dash{opacity:.4}
.level-section{margin-bottom:24px;width:100%}
.featured-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
.featured-word{background:var(--gray-1);border:1px solid var(--gray-3);border-radius:12px;padding:14px 10px;cursor:pointer;transition:border-color .2s,box-shadow .2s}
.featured-word:hover{border-color:rgba(0,255,242,.3);box-shadow:0 0 12px rgba(0,255,242,.08)}
.featured-word .fw-emoji{font-size:2rem;display:block;margin-bottom:4px}
.featured-word .fw-text{font-size:1.3rem;font-weight:700}
.featured-word .fw-text span{color:var(--teal)}
.extras-row{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;margin-bottom:14px}
.extra-word{background:var(--gray-1);border:1px solid var(--gray-3);border-radius:8px;padding:5px 10px;font-size:.85rem;font-weight:600;color:var(--gray-text);cursor:pointer;transition:color .2s,border-color .2s}
.extra-word:hover{color:var(--teal);border-color:rgba(0,255,242,.3)}
.sentence-bar{background:var(--gray-1);border-radius:10px;padding:12px 16px;font-size:.9rem;color:var(--gray-text);line-height:1.5;font-style:italic}
.sentence-bar strong{color:#fff;font-style:normal}
.study-nav{display:flex;gap:10px;justify-content:center;align-items:center}
.nav-btn{width:48px;height:48px;border:1px solid var(--gray-3);border-radius:12px;background:var(--gray-2);color:var(--gray-text);font-size:1.3rem;cursor:pointer;transition:border-color .2s,color .2s}
.nav-btn:hover{border-color:var(--teal);color:var(--teal)}
.nav-btn:disabled{opacity:.25;cursor:default}
.nav-dots{display:flex;gap:6px}
.nav-dot{width:8px;height:8px;border-radius:50%;background:var(--gray-3);transition:background .2s}
.nav-dot.active{background:var(--teal)}
.start-quiz-btn{margin-top:16px;padding:14px 32px;border:none;border-radius:12px;font-size:1.05rem;font-family:inherit;font-weight:700;cursor:pointer;background:var(--teal);color:#000;transition:box-shadow .2s;display:inline-block}
.start-quiz-btn:hover{box-shadow:0 0 25px rgba(0,255,242,.2)}

/* ===== QUIZ ===== */
.quiz{width:100%;max-width:480px;animation:fadeIn .3s ease}
.quiz-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding:0 2px}
.score-display{font-size:1.15rem;font-weight:700}
.score-display .pts{color:var(--teal)}
.progress-display{font-size:1rem;color:var(--gray-text);font-weight:500}
.progress-bar{width:100%;height:6px;background:var(--gray-3);border-radius:6px;margin-bottom:20px;overflow:hidden}
.progress-fill{height:100%;border-radius:6px;transition:width .4s ease;background:var(--teal);box-shadow:0 0 10px rgba(0,255,242,.3)}
.emoji-area{text-align:center;margin-bottom:8px}
.emoji-big{font-size:5rem;display:block;animation:popIn .4s ease}
.pattern-hint{font-size:.85rem;color:var(--gray-text);margin-top:6px;font-weight:500}
.speaker-btn{background:var(--gray-2);border:1px solid var(--gray-3);border-radius:10px;width:48px;height:48px;font-size:1.3rem;cursor:pointer;margin:8px auto;display:block;transition:transform .15s,border-color .2s;color:var(--gray-text)}
.speaker-btn:hover{border-color:var(--teal);color:var(--teal);transform:scale(1.05)}
.options-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
.option-btn{padding:20px 14px;border:1px solid var(--gray-3);border-radius:14px;font-size:1.5rem;font-family:inherit;cursor:pointer;background:var(--gray-2);color:#fff;font-weight:700;transition:transform .1s,border-color .15s,box-shadow .2s;text-align:center;min-height:66px;display:flex;align-items:center;justify-content:center}
.option-btn:hover{border-color:rgba(0,255,242,.4);box-shadow:0 0 20px rgba(0,255,242,.08);transform:scale(1.02)}
.option-btn:active{transform:scale(.97)}
.option-btn.correct{background:rgba(46,213,115,.15)!important;border-color:var(--green)!important;box-shadow:0 0 25px rgba(46,213,115,.2)!important;color:var(--green)!important;animation:correctPulse .5s ease}
.option-btn.wrong{background:rgba(255,71,87,.1)!important;border-color:var(--red)!important;box-shadow:0 0 20px rgba(255,71,87,.15)!important;color:var(--red)!important;animation:wrongShake .4s ease}
.option-btn.disabled{pointer-events:none;opacity:.5}
.feedback{text-align:center;margin-top:14px;font-size:1.15rem;font-weight:700;min-height:40px;display:flex;align-items:center;justify-content:center}
.feedback.correct-fb{color:var(--green);animation:fadeIn .3s}
.feedback.wrong-fb{color:var(--red);animation:fadeIn .3s}
.feedback .pattern-tag{display:inline-block;background:var(--teal-dim);color:var(--teal);padding:2px 10px;border-radius:6px;margin-left:6px;font-size:.95rem}

/* ===== RESULTS ===== */
.results{text-align:center;width:100%;max-width:480px;animation:fadeIn .5s ease}
.results h2{font-size:2.2rem;font-weight:900;letter-spacing:-0.03em;margin-bottom:4px}
.results h2 span{color:var(--teal)}
.stars-area{font-size:3.5rem;margin:8px 0}
.score-final{font-size:1.2rem;margin-bottom:20px;color:var(--gray-text);font-weight:500}
.score-final strong{color:#fff}
.review-section{text-align:left;margin:20px 0}
.review-section h3{font-size:1.1rem;font-weight:700;margin-bottom:12px;text-align:center;color:var(--gray-text)}
.review-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.review-card{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--gray-2);border-radius:10px;border-left:3px solid var(--green)}
.review-card.missed{border-left-color:var(--red)}
.review-card .r-emoji{font-size:1.5rem}
.review-card .r-word{font-size:1rem;font-weight:600}
.review-card .r-pattern{font-size:.75rem;color:var(--teal);font-weight:600}
.review-card .r-check{margin-left:auto;font-size:1rem}
.results-buttons{display:flex;gap:10px;justify-content:center;margin-top:24px;flex-wrap:wrap}
.results-buttons button{padding:14px 28px;border:none;border-radius:12px;font-size:1.05rem;font-family:inherit;font-weight:700;cursor:pointer;transition:transform .1s}
.results-buttons button:active{transform:translateY(2px)}
.btn-replay{background:var(--teal);color:#000}
.btn-home{background:var(--gray-3);color:var(--gray-text)}

.back-btn{background:none;border:none;color:var(--gray-text);font-family:inherit;font-size:.9rem;font-weight:500;cursor:pointer;margin-top:16px;transition:color .2s;display:inline-flex;align-items:center;gap:4px}
.back-btn:hover{color:var(--teal)}

#confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000}

@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
@keyframes popIn{0%{transform:scale(0);opacity:0}60%{transform:scale(1.15)}100%{transform:scale(1);opacity:1}}
@keyframes correctPulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}
@keyframes wrongShake{0%,100%{transform:translateX(0)}20%{transform:translateX(-8px)}40%{transform:translateX(8px)}60%{transform:translateX(-5px)}80%{transform:translateX(5px)}}
@keyframes starPop{0%{transform:scale(0) rotate(0);opacity:0}60%{transform:scale(1.3) rotate(10deg);opacity:1}100%{transform:scale(1) rotate(0);opacity:1}}
.star-anim{display:inline-block;animation:starPop .5s ease forwards;opacity:0}
.star-anim:nth-child(1){animation-delay:.1s}.star-anim:nth-child(2){animation-delay:.3s}.star-anim:nth-child(3){animation-delay:.5s}

@media(max-width:500px){
  .welcome h1{font-size:2rem}
  .emoji-big{font-size:3.8rem}
  .option-btn{font-size:1.3rem;padding:16px 10px}
  .study-pattern{font-size:2.4rem}
  .featured-word .fw-text{font-size:1.1rem}
}
</style>
</head>
<body>
<div class="orb orb-1"></div>
<div class="orb orb-2"></div>
<div id="app"></div>
<canvas id="confetti-canvas"></canvas>
<script>
// ==================== DATA ====================
const SETS = {
  A1: {
    name: "Set A1", vowel: "Short A", patterns: [
      { p:"at", featured:[["cat","ğŸ±"],["hat","ğŸ©"],["bat","ğŸ¦‡"],["rat","ğŸ€"]], extras:["mat","pat","fat","sat","vat","that","flat","chat"], sentence:"A <b>cat</b> sat on a <b>mat</b> next to a <b>rat</b>." },
      { p:"an", featured:[["man","ğŸ‘¨"],["can","ğŸ¥«"],["fan","ğŸŒ¬ï¸"],["pan","ğŸ³"]], extras:["ran","van","ban","dan","nan","than","plan","scan"], sentence:"<b>Dan</b> ran to the <b>van</b>. A <b>man</b> has a <b>can</b>." },
      { p:"ag", featured:[["bag","ğŸ‘œ"],["rag","ğŸ§¹"],["tag","ğŸ·ï¸"],["wag","ğŸ•"]], extras:["gag","lag","sag","jag","drag","brag"], sentence:"The <b>rag</b> is in the <b>bag</b>. The dog can <b>wag</b>." },
      { p:"ad", featured:[["dad","ğŸ‘¨"],["bad","ğŸ˜ "],["mad","ğŸ˜¤"],["pad","ğŸ“"]], extras:["had","lad","sad","tad","glad","brad","clad"], sentence:"Brad's <b>dad</b> is <b>sad</b>. Come see the <b>bad</b> lad." },
      { p:"am", featured:[["ram","ğŸ"],["dam","ğŸï¸"],["jam","ğŸ‡"],["ham","ğŸ–"]], extras:["yam","cam","pam","sam","tram","clam","swam"], sentence:"Sam likes <b>ham</b> and <b>jam</b>. He swam to the <b>dam</b>." },
      { p:"ap", featured:[["cap","ğŸ§¢"],["trap","ğŸª¤"],["map","ğŸ—ºï¸"],["clap","ğŸ‘"]], extras:["gap","lap","zap","sap","nap","snap"], sentence:"I see a gap under the <b>trap</b>. She has a blue <b>cap</b>." }
    ]
  },
  A2: {
    name: "Set A2", vowel: "Short E", patterns: [
      { p:"et", featured:[["pet","ğŸ•"],["jet","âœˆï¸"],["net","ğŸ€"],["wet","ğŸŒ§ï¸"]], extras:["bet","let","met","set","vet","get","fret"], sentence:"My <b>pet</b> is <b>wet</b>. I met Bret on a <b>jet</b>." },
      { p:"en", featured:[["pen","ğŸ–Šï¸"],["hen","ğŸ”"],["ten","ğŸ”Ÿ"],["men","ğŸ‘¥"]], extras:["den","fen","yen","ben","jen","then","when","oven"], sentence:"Ben has a red <b>pen</b>. I give <b>ten</b> pens to the <b>men</b>." },
      { p:"eg", featured:[["egg","ğŸ¥š"],["beg","ğŸ™"],["leg","ğŸ¦µ"],["keg","ğŸ›¢ï¸"]], extras:["meg","veg","Greg"], sentence:"Greg hurt his <b>leg</b>. Meg has a peg." },
      { p:"ed", featured:[["bed","ğŸ›ï¸"],["wed","ğŸ’’"],["red","ğŸ”´"],["fed","ğŸ½ï¸"]], extras:["led","shed","ted","sled","bled","fled"], sentence:"Ted has a <b>red</b> <b>bed</b>. She <b>fed</b> the red bird." },
      { p:"ell", featured:[["bell","ğŸ””"],["shell","ğŸš"],["smell","ğŸ‘ƒ"],["well","â›²"]], extras:["fell","tell","cell","sell","spell","dwell"], sentence:"The <b>well</b> has lots of <b>shell</b>s. Mel yells into the <b>well</b>." },
      { p:"est", featured:[["nest","ğŸªº"],["test","ğŸ“‹"],["vest","ğŸ¦º"],["pest","ğŸ›"]], extras:["rest","zest","chest","guest","quest"], sentence:"I am ready to take the <b>test</b>. What is in the <b>nest</b>?" }
    ]
  },
  A3: {
    name: "Set A3", vowel: "Short I", patterns: [
      { p:"it", featured:[["hit","ğŸ”¨"],["bit","ğŸ©"],["sit","ğŸ§˜"],["fit","ğŸ’ª"]], extras:["lit","kit","pit","wit","knit","exit","quit"], sentence:"The candle is lit. Let's <b>sit</b> in the pit." },
      { p:"in", featured:[["bin","ğŸ—‘ï¸"],["win","ğŸ†"],["pin","ğŸ“Œ"],["fin","ğŸ¦ˆ"]], extras:["tin","chin","spin","thin","twin","skin","shin"], sentence:"My twin is thin. Her <b>pin</b> fell in the <b>bin</b>." },
      { p:"ip", featured:[["lip","ğŸ‘„"],["sip","ğŸ§ƒ"],["ship","ğŸš¢"],["chip","ğŸ’»"]], extras:["rip","zip","tip","dip","hip","skip","flip","grip"], sentence:"She bit her <b>lip</b> on the <b>ship</b>. The <b>chip</b> is in the dip." },
      { p:"ig", featured:[["fig","ğŸ«"],["dig","â›ï¸"],["wig","ğŸ’‡"],["big","ğŸ§’"]], extras:["pig","jig","rig","gig","zig","twig"], sentence:"She has a <b>big</b> pig. Is the <b>fig</b> big?" },
      { p:"id", featured:[["kid","ğŸ§’"],["hid","ğŸ™ˆ"],["lid","ğŸ«•"],["rid","ğŸ—‘ï¸"]], extras:["did","bid","sid","slid","skid","squid"], sentence:"Sid is a little <b>kid</b>. Sid <b>hid</b> under his bed." },
      { p:"ill", featured:[["mill","ğŸ­"],["pill","ğŸ’Š"],["hill","â›°ï¸"],["drill","ğŸ”§"]], extras:["will","fill","sill","jill","bill","grill","still"], sentence:"Bill and Jill went up the <b>hill</b>. They had hot dogs from the <b>grill</b>." }
    ]
  },
  A4: {
    name: "Set A4", vowel: "Short O", patterns: [
      { p:"ot", featured:[["hot","ğŸ¥µ"],["cot","ğŸ›ï¸"],["pot","ğŸ²"],["dot","ğŸ”´"]], extras:["rot","got","lot","bot","plot","shot","slot","spot"], sentence:"Rob got a toy bot with a yellow <b>dot</b>. This is a <b>hot</b> <b>pot</b>." },
      { p:"ox", featured:[["ox","ğŸ‚"],["fox","ğŸ¦Š"],["box","ğŸ“¦"],["toy box","ğŸ§¸"]], extras:[], sentence:"The <b>fox</b> and the <b>ox</b> both live in the forest. The toy <b>box</b> has many stuffed animals." },
      { p:"ob", featured:[["job","ğŸ’¼"],["sob","ğŸ˜¢"],["rob","ğŸ¦¹"],["mob","ğŸ‘¥"]], extras:["cob","lob","bob","blob","slob","snob","knob"], sentence:"Bob got a new <b>job</b>. Rob started to <b>sob</b>." },
      { p:"ock", featured:[["clock","ğŸ•"],["rock","ğŸª¨"],["block","ğŸ§Š"],["sock","ğŸ§¦"]], extras:["lock","dock","mock","jock","stock","crock","brock"], sentence:"Brock locks his boat at the dock. Brock put his <b>sock</b>s on." },
      { p:"og", featured:[["dog","ğŸ¶"],["fog","ğŸŒ«ï¸"],["jog","ğŸƒ"],["log","ğŸªµ"]], extras:["bog","cog","hog","clog","frog","blog","smog"], sentence:"The little <b>dog</b> can <b>jog</b>. The big <b>log</b> is in the <b>fog</b>." },
      { p:"op", featured:[["mop","ğŸ§¹"],["pop","ğŸˆ"],["top","ğŸ”"],["hop","ğŸ°"]], extras:["bop","prop","chop","crop","drop","shop","stop"], sentence:"Can you <b>pop</b> the <b>top</b>? Bob dropped his pop on the floor." }
    ]
  },
  A5: {
    name: "Set A5", vowel: "Short U", patterns: [
      { p:"ug", featured:[["bug","ğŸ›"],["rug","ğŸ§¶"],["mug","â˜•"],["jug","ğŸº"]], extras:["hug","dug","lug","plug","slug","snug"], sentence:"I see a <b>mug</b>, but not a <b>jug</b>. Was that a <b>bug</b> on the <b>rug</b>?" },
      { p:"un", featured:[["sun","â˜€ï¸"],["bun","ğŸ"],["run","ğŸƒ"],["nun","â›ª"]], extras:["fun","spun","stun","shun","under","begun"], sentence:"The <b>nun</b> ate a <b>bun</b>. Dan had fun under the <b>sun</b>." },
      { p:"ut", featured:[["hut","ğŸ›–"],["nut","ğŸ¥œ"],["cut","âœ‚ï¸"],["shut","ğŸšª"]], extras:["but","gut","rut","strut","donut"], sentence:"Dan got <b>cut</b> on a <b>nut</b>. There are many nuts in that <b>hut</b>." },
      { p:"ub", featured:[["cub","ğŸ¯"],["sub","ğŸš¢"],["tub","ğŸ›"],["scrub","ğŸ§½"]], extras:["rub","dub","hub","club","grub","blub"], sentence:"A <b>cub</b> takes a bath in the <b>tub</b>. Are you at the hub?" },
      { p:"uck", featured:[["duck","ğŸ¦†"],["puck","ğŸ’"],["muck","ğŸŸ¤"],["truck","ğŸšš"]], extras:["buck","luck","yuck","pluck","stuck","struck"], sentence:"Jim drives his <b>truck</b> in the <b>muck</b>. Pat drove his <b>duck</b> in a truck." },
      { p:"up", featured:[["pup","ğŸ•"],["cup","â˜•"],["yup","ğŸ‘"]], extras:["pickup","backup","lineup","makeup","teacup","lookup"], sentence:"The <b>pup</b> eats its food from a <b>cup</b>." }
    ]
  },
  B1: {
    name: "Set B1", vowel: "L-Blends", pos: "start", patterns: [
      { p:"gl", featured:[["glass","ğŸ¥›"],["glasses","ğŸ‘“"],["globe","ğŸŒ"],["gloves","ğŸ§¤"]], extras:["glad","glow","glue","glare","glide","glaze","gloss"], sentence:"Glen needs more <b>glue</b>. The boy with <b>glasses</b> drank a <b>glass</b> of milk." },
      { p:"sl", featured:[["slug","ğŸŒ"],["slide","ğŸ›"],["slice","ğŸ°"],["sled","ğŸ›·"]], extras:["slim","slap","slam","slow","sleep","slope","sling"], sentence:"I ride my <b>sled</b> on the slippery slope. Do not slap the slow <b>slug</b>!" },
      { p:"pl", featured:[["plane","âœˆï¸"],["play","ğŸ®"],["plant","ğŸª´"],["plate","ğŸ½ï¸"]], extras:["plan","plow","plug","plum","plus","place","plain"], sentence:"I have plenty of <b>plates</b>. They plan to <b>play</b> at Paul's place." },
      { p:"fl", featured:[["fly","ğŸª°"],["flame","ğŸ”¥"],["flag","ğŸ"],["flower","ğŸŒ¸"]], extras:["flat","flap","flip","flute","float","flash","flock"], sentence:"A black <b>fly</b> is on a flat tire. Five flies are flying over a <b>flower</b>." },
      { p:"bl", featured:[["blocks","ğŸ§±"],["blanket","ğŸ›ï¸"],["blender","ğŸ¥¤"],["blue","ğŸ”µ"]], extras:["blow","blur","blush","blink","blind","black","blade","blank"], sentence:"Blake blows <b>blue</b> balloons. I will pick the blue <b>blocks</b>." },
      { p:"cl", featured:[["clock","â°"],["cloud","â˜ï¸"],["clown","ğŸ¤¡"],["clam","ğŸš"]], extras:["clap","claw","clay","clip","clean","clear","click","close"], sentence:"Clem, the <b>clam</b>, wants to be a <b>clown</b>. Clark's class is on a cliff." }
    ]
  },
  B2: {
    name: "Set B2", vowel: "R-Blends", pos: "start", patterns: [
      { p:"dr", featured:[["dress","ğŸ‘—"],["drum","ğŸ¥"],["dream","ğŸ’­"],["drink","ğŸ¥¤"]], extras:["dry","drop","drain","draw","drive","drill","drone"], sentence:"Drea's lips are dry. Drake draws dragon cards." },
      { p:"fr", featured:[["frog","ğŸ¸"],["frown","ğŸ˜ "],["fruits","ğŸ"],["friends","ğŸ‘«"]], extras:["fry","free","from","frost","frame","fries","Friday","fridge"], sentence:"Fred likes frozen <b>fruits</b>. Frank gets free fruits from the store." },
      { p:"br", featured:[["bread","ğŸ"],["brick","ğŸ§±"],["bridge","ğŸŒ‰"],["brown","ğŸ»"]], extras:["brain","brave","brace","brush","broom","bride","break"], sentence:"Brad eats <b>bread</b> for breakfast. The bracelet is bright and shiny." },
      { p:"gr", featured:[["grass","ğŸŒ¿"],["green","ğŸ’š"],["grapes","ğŸ‡"],["grow","ğŸŒ±"]], extras:["grab","gray","gram","grip","grade","grace","groom","great"], sentence:"My grandma is great! The cow eats <b>green</b> <b>grass</b>." },
      { p:"tr", featured:[["tree","ğŸŒ³"],["train","ğŸš‚"],["trap","ğŸª¤"],["truck","ğŸš›"]], extras:["tray","trip","trim","trick","treat","trail","trade","trash"], sentence:"We will trim the Christmas <b>tree</b>. The <b>trap</b> is on the trail." },
      { p:"pr", featured:[["prize","ğŸ†"],["print","ğŸ–¨ï¸"],["prince","ğŸ¤´"],["present","ğŸ"]], extras:["pray","prey","prom","prank","price","pride","press","pretty"], sentence:"She won <b>prizes</b> for being pretty. Preston is a <b>prince</b>." }
    ]
  },
  B3: {
    name: "Set B3", vowel: "S-Blends", pos: "start", patterns: [
      { p:"sk", featured:[["ski","â›·ï¸"],["skirt","ğŸ‘—"],["sky","ğŸŒ¤ï¸"],["skunk","ğŸ¦¨"]], extras:["skim","skid","skin","skip","sketch","skill","skipper"], sentence:"Skyler the <b>skunk</b> is looking at the <b>sky</b>. Skip loves to skate." },
      { p:"sw", featured:[["swan","ğŸ¦¢"],["sweet","ğŸ¬"],["swim","ğŸŠ"],["swing","ğŸ¤¸"]], extras:["sway","swell","switch","sweep","swamp","swoop","swirl","swarm"], sentence:"Sweetie the <b>swan</b> loves swimming. Swift drank <b>sweet</b> flower nectar." },
      { p:"sn", featured:[["snake","ğŸ"],["snow","â„ï¸"],["snack","ğŸ¿"],["snail","ğŸŒ"]], extras:["snap","snore","sniff","snatch","snarl","snare","snout"], sentence:"Snyder had a snobby pet <b>snake</b>! Snowy the <b>snow</b> owl is in snowstorm." },
      { p:"sp", featured:[["speed","ğŸƒ"],["spider","ğŸ•·ï¸"],["spin","ğŸŒ€"],["sponge","ğŸ§½"]], extras:["spy","spot","spend","spill","spell","spine","spear","sport"], sentence:"Spencer loves splashing, spinning and <b>speed</b>. He spends his spare time doing sports." },
      { p:"st", featured:[["star","â­"],["stairs","ğŸªœ"],["stamp","ğŸ“®"],["stop","ğŸ›‘"]], extras:["step","stage","stand","steam","stool","storm","stable","sting"], sentence:"Stan will take a step up. We must <b>stop</b> at the <b>stairs</b>!" },
      { p:"sm", featured:[["smile","ğŸ˜Š"],["smart","ğŸ§ "],["small","ğŸ"],["smoke","ğŸ’¨"]], extras:["smog","smug","smirk","smear","smash","smudge","smooth"], sentence:"Smith is <b>smart</b> and has a nice <b>smile</b>. Smitty was a <b>small</b> bear." }
    ]
  },
  B4: {
    name: "Set B4", vowel: "Digraphs (Start)", pos: "start", patterns: [
      { p:"wh", featured:[["wheel","ğŸ¡"],["white","âšª"],["whistle","ğŸ“¯"],["whale","ğŸ‹"]], extras:["whip","whim","when","wheat","where","which","whine","while"], sentence:"Whitney rode a bike everywhere she went. Whistler is a <b>white</b> parrot who can <b>whistle</b>." },
      { p:"th_v", match:"th", label:"th (voiced)", featured:[["this","ğŸ‘ˆ"],["that","ğŸ‘‰"]], extras:["than","then","them","these","there","their","though"], sentence:"<b>This</b> table is bigger than their chair. I want <b>that</b> hat not those shoes." },
      { p:"sh", featured:[["shark","ğŸ¦ˆ"],["sheep","ğŸ‘"],["ship","ğŸš¢"],["shoes","ğŸ‘Ÿ"]], extras:["she","shop","shape","shell","shore","shelf","short"], sentence:"Sharon the <b>shark</b> loves the shallow water. Her sharp teeth would shred the shrimps." },
      { p:"ph", featured:[["phone","ğŸ“±"],["pharaoh","ğŸº"],["pheasant","ğŸ¦"],["photo","ğŸ“¸"]], extras:["phew","Phil","phase","phonics","phrase","Phoebe","phantom"], sentence:"Phoebe likes to take fun <b>photos</b>. Phil is always on his <b>phone</b>." },
      { p:"ch", featured:[["chair","ğŸª‘"],["cherry","ğŸ’"],["cheese","ğŸ§€"],["child","ğŸ‘¦"]], extras:["chop","chip","chain","check","chase","choke","chimp","chicken"], sentence:"Chester the chimp was chased by a cheetah. Choosy Chester chews so quickly he nearly chokes." },
      { p:"th", featured:[["three","3ï¸âƒ£"],["throw","âš¾"],["think","ğŸ¤”"],["thumb","ğŸ‘"]], extras:["thin","thief","third","thorn","thing","thick","theme","thanks"], sentence:"Theo is a thief. He <b>thinks</b> about many things. He is tall, thin and has thick black hair." }
    ]
  },
  B5: {
    name: "Set B5", vowel: "Digraphs (End)", pos: "end", patterns: [
      { p:"ch", featured:[["peach","ğŸ‘"],["bench","ğŸª‘"],["watch","âŒš"],["beach","ğŸ–ï¸"]], extras:["couch","lunch","reach","coach","torch","search","bunch","pouch"], sentence:"Mitch sits on a <b>bench</b> and watches the birds. At lunch Rich sat on a bench to eat his <b>peach</b>." },
      { p:"sh", featured:[["wash","ğŸ§¼"],["cash","ğŸ’µ"],["fish","ğŸŸ"],["push","ğŸ“¦"]], extras:["ash","bush","dish","mash","rash","wish","trash","brush"], sentence:"Shane left some <b>cash</b> at his shop. I wish I had a tasty <b>fish</b> in a dish." },
      { p:"th", featured:[["bath","ğŸ›"],["path","ğŸ›¤ï¸"],["math","ğŸ”¢"],["teeth","ğŸ¦·"]], extras:["both","with","moth","faith","mouth","south","north","youth"], sentence:"That <b>path</b> goes south. Both of my brothers like <b>math</b>." },
      { p:"nk", featured:[["sink","ğŸš°"],["drink","ğŸ¥¤"],["pink","ğŸ’—"],["wink","ğŸ˜‰"]], extras:["ink","bank","sank","skunk","trunk","think","plank"], sentence:"Frank needed to go to the bank. Link had a pet skunk." },
      { p:"nd", featured:[["hand","âœ‹"],["wind","ğŸ’¨"],["sand","ğŸï¸"],["pond","ğŸï¸"]], extras:["band","lend","bend","mend","kind","land","fond","fund"], sentence:"Rand joined a music <b>band</b>. She is so kind. She lends Rand a <b>hand</b>." },
      { p:"ng", featured:[["sing","ğŸ¤"],["ring","ğŸ’"],["strong","ğŸ’ª"],["king","ğŸ‘‘"]], extras:["long","song","wing","lung","wrong","young","sting","thing"], sentence:"Chang was stung by a gang of bees! The <b>ring</b> is a gift from a <b>king</b>." }
    ]
  },
  C1: {
    name: "Set C1", vowel: "Long Vowel Pairs", pos: "end", patterns: [
      { p:"ue", featured:[["glue","ğŸ§´"],["blue","ğŸ”µ"],["tissue","ğŸ¤§"],["clue","ğŸ”"]], extras:["true","duel","issue","cruel","value","statue","pursue"], sentence:"Luke needs a <b>blue</b> <b>tissue</b>. Sue, can you pass me the <b>glue</b>?" },
      { p:"ui", featured:[["juice","ğŸ§ƒ"],["suit","ğŸ¤µ"],["fruits","ğŸ"],["cruise","ğŸš¢"]], extras:["bruise","recruit","suitcase","pursuit"], sentence:"I enjoy drinking fresh fruit <b>juice</b>. A trip on a large ship is called <b>cruise</b>." },
      { p:"ea", featured:[["leaf","ğŸƒ"],["sea","ğŸ–ï¸"],["meat","ğŸ¥©"],["read","ğŸ“–"]], extras:["seal","team","meal","clean","dream","speak","beach"], sentence:"Dean eats lots of <b>meat</b>. Our <b>dream</b> is to clean the <b>beach</b> from leaves." },
      { p:"ee", featured:[["bee","ğŸ"],["tree","ğŸŒ³"],["feet","ğŸ¦¶"],["see","ğŸ‘€"]], extras:["meet","keep","feed","need","seed","sleep","sheep","street"], sentence:"I <b>see</b> how Dan feeds the <b>sheep</b>. Keep your <b>feet</b> off the street." },
      { p:"ai", featured:[["train","ğŸš‚"],["rain","ğŸŒ§ï¸"],["tail","ğŸ±"],["snail","ğŸŒ"]], extras:["main","pain","nail","wait","rail","mail","paint","grain"], sentence:"Daisy waits for the <b>train</b>. It is going to <b>rain</b> in Spain." },
      { p:"oa", featured:[["boat","â›µ"],["coat","ğŸ§¥"],["road","ğŸ›£ï¸"],["goat","ğŸ"]], extras:["toad","goal","soak","soap","loaf","coast","toast","float"], sentence:"He made <b>toast</b>, poached eggs and oats. Then he put on his <b>coat</b> and set off down the <b>road</b>." }
    ]
  },
  C2: {
    name: "Set C2", vowel: "Magic E", pos: "any", patterns: [
      { p:"a_e", match:"a", featured:[["wave","ğŸŒŠ"],["cake","ğŸ‚"],["plane","âœˆï¸"],["gate","ğŸšª"]], extras:["rake","face","case","same","safe","game","whale","snake"], sentence:"Fay and Jane play tennis on the <b>same</b> day. Dave made a <b>cake</b> for Jane." },
      { p:"e_e", match:"e", featured:[["complete","ğŸ§©"],["delete","ğŸ—‘ï¸"],["concrete","ğŸ§±"],["these","ğŸ‘‰"]], extras:["Eve","even","Pete","theme","evening","Chinese","Japanese"], sentence:"We need to <b>delete</b> <b>these</b> files. Pete's evening is not <b>complete</b> without music." },
      { p:"i_e", match:"i", featured:[["kite","ğŸª"],["five","5ï¸âƒ£"],["bike","ğŸš²"],["time","ğŸ•"]], extras:["bite","ride","lime","like","fire","nine","pine","fine"], sentence:"Mike likes his new <b>bike</b>. It's <b>time</b> to fly my nice <b>kite</b>." },
      { p:"o_e", match:"o", featured:[["bone","ğŸ¦´"],["rose","ğŸŒ¹"],["nose","ğŸ‘ƒ"],["stone","ğŸª¨"]], extras:["hole","home","mole","dome","note","vote","smoke","alone"], sentence:"<b>Mole</b>'s home is a <b>hole</b>." }
    ]
  },
  C3: {
    name: "Set C3", vowel: "R-Controlled", pos: "end", patterns: [
      { p:"ur", featured:[["nurse","ğŸ‘©â€âš•ï¸"],["church","â›ª"],["purse","ğŸ‘›"],["purple","ğŸŸ£"]], extras:["fur","burn","hurt","curl","surf","turn","purr","turtle"], sentence:"The <b>nurse</b> has a <b>purple</b> <b>purse</b>. The man was in a hurry and burned his burger." },
      { p:"ar", featured:[["car","ğŸš—"],["star","â­"],["jar","ğŸ«™"],["park","ğŸï¸"]], extras:["far","arm","part","yard","mark","barn","farm","dark"], sentence:"Mark marched down to the <b>barn</b>. It was <b>dark</b> and Matt found a <b>jar</b> in the <b>park</b>." },
      { p:"ir", featured:[["girl","ğŸ‘§"],["circle","ğŸŸ¢"],["first","ğŸ¥‡"],["bird","ğŸ¦"]], extras:["sir","dirt","firm","stir","shirt","skirt","third","swirl","birth"], sentence:"The <b>girl</b> is <b>first</b> in line. Look at the <b>bird</b> and do not stir the dirt!" },
      { p:"or", featured:[["door","ğŸšª"],["horse","ğŸ´"],["fork","ğŸ´"],["corn","ğŸŒ½"]], extras:["port","horn","pork","north","actor","sport","storm"], sentence:"There is a <b>storm</b> by the port. Eat the <b>pork</b> with a <b>fork</b>, Thor." },
      { p:"u_e", match:"u", featured:[["cube","ğŸ“¦"],["tube","ğŸ§´"],["mule","ğŸ«"],["tune","ğŸµ"]], extras:["cute","rude","fuse","June","rule","huge","flute"], sentence:"Luke and Duke do not follow the rules. I play a little <b>tune</b> on my flute." },
      { p:"er", featured:[["father","ğŸ‘¨â€ğŸ‘§"],["flower","ğŸŒ¸"],["mother","ğŸ‘©â€ğŸ‘¦"],["summer","ğŸ–ï¸"]], extras:["baker","brother","sister","letter","answer","danger","worker","ladder"], sentence:"My <b>mother</b> works as a baker during the <b>summer</b>. Spencer's <b>father</b> took my brother out of danger." }
    ]
  },
  C4: {
    name: "Set C4", vowel: "Diphthongs", pos: "end", patterns: [
      { p:"oo", featured:[["broom","ğŸ§¹"],["school","ğŸ«"],["spoon","ğŸ¥„"],["goose","ğŸª¿"]], extras:["groom","igloo","loose","moose","proof","stood","tooth","yahoo"], sentence:"The fool is in good mood. I cook the food with a <b>spoon</b> in <b>school</b>." },
      { p:"oo_2", match:"oo", label:"oo", featured:[["book","ğŸ“–"],["moon","ğŸŒ™"],["cook","ğŸ‘¨â€ğŸ³"],["pool","ğŸŠ"]], extras:["wood","food","wool","hook","zoom","room","soon","mood"], sentence:"The stool is made of <b>wood</b>. I use a spoon to <b>cook</b> my food at school." },
      { p:"au", featured:[["sauce","ğŸ¥«"],["laundry","ğŸ‘•"],["caution","âš ï¸"],["haul","ğŸªµ"]], extras:["pause","haunt","vault","fault","author","launch","caught","August"], sentence:"Paul's <b>laundry</b> is in the basket. <b>Haul</b> the awful <b>sauce</b> to the vault." },
      { p:"aw", featured:[["paw","ğŸ¾"],["straw","ğŸ¥¤"],["claw","ğŸ¯"],["prawn","ğŸ¦"]], extras:["saw","lawn","dawn","fawn","hawk","yawn","draw","crawl"], sentence:"We saw a hawk's <b>claw</b> on the lawn. He saw her yawn during the meeting." },
      { p:"oy", featured:[["toy","ğŸ§¸"],["boy","ğŸ‘¦"],["joy","ğŸ¤¸"],["oyster","ğŸ¦ª"]], extras:["ploy","enjoy","royal","foyer","loyal","employ","destroy","convoy"], sentence:"Roy is a little <b>boy</b>. He has lots of <b>toy</b>s. Toys were something they could all enjoy." },
      { p:"ow", featured:[["down","ğŸ“‰"],["owl","ğŸ¦‰"],["town","ğŸ˜ï¸"],["cow","ğŸ„"]], extras:["now","how","gown","fowl","frown","brown","crowd"], sentence:"The brown <b>cow</b> was found in <b>town</b>. Don't <b>frown</b> or shout, put on this crown!" },
      { p:"oi", featured:[["coin","ğŸ’°"],["noise","ğŸ“¢"],["soil","ğŸŒ±"],["boil","ğŸ«•"]], extras:["oil","join","toil","foil","loin","void","point","voice"], sentence:"Avoid the poison in the <b>oil</b>. Roy points to the golden <b>coin</b>s." },
      { p:"ou", featured:[["house","ğŸ "],["cloud","â˜ï¸"],["mouth","ğŸ‘„"],["proud","ğŸ†"]], extras:["out","sour","loud","hour","shout","round","mouse","sound"], sentence:"There is a big mouse in your <b>house</b>. Do not shout, be <b>loud</b> or make a sound!" }
    ]
  },
  C5: {
    name: "Set C5", vowel: "More Vowel Teams", pos: "end", patterns: [
      { p:"ie", featured:[["field","ğŸï¸"],["movie","ğŸ¬"],["pie","ğŸ¥§"],["fries","ğŸŸ"]], extras:["tie","flies","shield","piece","thief","alien","grief","chief"], sentence:"She cried when she saw the flies on the <b>pie</b>. Don't grief the chief with burned <b>fries</b>!" },
      { p:"ew", featured:[["chew","ğŸ˜‹"],["stew","ğŸ²"],["crew","ğŸ‘¥"],["dew","ğŸ’§"]], extras:["sew","new","view","renew","flew","grew","knew","brew"], sentence:"The new jet <b>flew</b> to a place with a nice view. The <b>crew</b> sailed the boat down the river." },
      { p:"oe", featured:[["heroes","ğŸ¦¸"],["toe","ğŸ¦¶"],["hoe","ğŸª´"],["doe","ğŸ¦Œ"]], extras:[], sentence:"Tomatoes and potatoes can turn us into <b>heroes</b>. Floe hurt her <b>toe</b>." },
      { p:"ey", featured:[["keys","ğŸ”‘"],["monkey","ğŸ’"],["donkey","ğŸ«"],["turkey","ğŸ¦ƒ"]], extras:["money","honey","valley","jockey","jersey","parsley","trolley","chimney"], sentence:"She lost her <b>keys</b> and money. Tedd ate some <b>turkey</b> with honey and parsley." },
      { p:"ow", featured:[["blow","ğŸˆ"],["slow","ğŸ¢"],["grow","ğŸŒ±"],["snow","â„ï¸"]], extras:["bow","low","tow","glow","flow","know","show","throw"], sentence:"The turtle is <b>slow</b> and doesn't <b>grow</b>. I know how to throw a low ball at Paul." },
      { p:"ay", featured:[["play","ğŸ®"],["way","ğŸ›¤ï¸"],["May","ğŸ“…"],["hay","ğŸŒ¾"]], extras:["day","bay","lay","say","tray","clay","sway","stay"], sentence:"They <b>say</b> â€” don't stay on the <b>way</b>! Fay ate cake at the bay with Gabe." }
    ]
  },
  D1: {
    name: "Set D1", vowel: "Advanced Blends", pos: "any", patterns: [
      { p:"wor", featured:[["world","ğŸŒ"],["worm","ğŸª±"],["work","ğŸ’¼"],["words","ğŸ“"]], extras:["wore","worn","worth","worst","worse","worker","worship","workday"], sentence:"On his <b>worst</b> workday the <b>worker</b> found a huge <b>worm</b>. People all around the <b>world</b> have to <b>work</b>." },
      { p:"thr", featured:[["throw","âš¾"],["throne","ğŸ°"],["three","3ï¸âƒ£"],["thread","ğŸ§µ"]], extras:["throb","thrash","thrust","thrill","thrift","thrive","throat","through"], sentence:"Rob <b>threw</b> <b>three</b> <b>thread</b>s through the door. What a <b>thrill</b> that Pat helped the flower <b>thrive</b>." },
      { p:"squ", featured:[["squad","ğŸ€"],["square","ğŸ”²"],["squid","ğŸ¦‘"],["squat","ğŸ‹ï¸"]], extras:["squash","squawk","squeal","squeak","squint","squirm","squirrel","squeeze"], sentence:"Dad fixed the <b>squeak</b>y door. Mum filled the <b>square</b> <b>squirrel</b> feeder with some food." },
      { p:"igh", featured:[["knight","âš”ï¸"],["light","ğŸ’¡"],["night","ğŸŒ™"],["fight","ğŸ¥Š"]], extras:["high","sigh","right","sight","flight","bright","delight"], sentence:"One <b>night</b> there was a big <b>fight</b>. What a delight that our <b>flight</b> was <b>right</b> on time!" },
      { p:"str", featured:[["street","ğŸ›£ï¸"],["string","ğŸ§¶"],["stripe","ğŸ¦“"],["strong","ğŸ’ª"]], extras:["straw","strap","stroll","stress","stroke","strain","stretch","strange"], sentence:"<b>Strap</b> the sprig with some <b>string</b>. <b>Stress</b> leads to strife." },
      { p:"scr", featured:[["scream","ğŸ˜±"],["scrub","ğŸ§½"],["screen","ğŸ–¥ï¸"],["scratch","ğŸ¾"]], extras:["scrap","screw","scroll","scrawl","script","screech","scrapper","scribble"], sentence:"<b>Scrub</b> the splat off the <b>scratch</b>es on the wall. Fred used the <b>screw</b>driver to tighten the <b>screw</b>." }
    ]
  },
  D2: {
    name: "Set D2", vowel: "Vowel Teams", pos: "end", patterns: [
      { p:"eer", featured:[["deer","ğŸ¦Œ"],["peer","ğŸ‘«"],["engineer","ğŸ‘·"],["cheer","ğŸ‰"]], extras:["beer","leer","jeer","veer","career","eerie","sheer","reindeer"], sentence:"The elegant <b>deer</b> is a <b>sheer</b> beauty. A <b>cheer</b> for the year of the <b>engineer</b>." },
      { p:"are", featured:[["care","ğŸ¤—"],["square","ğŸ”²"],["hare","ğŸ°"],["scare","ğŸ˜±"]], extras:["rare","ware","dare","glare","flare","share","stare","spare"], sentence:"<b>Share</b> the pear with the <b>hare</b>! Claire's <b>stare</b> will <b>scare</b> the bear." },
      { p:"ear", featured:[["ear","ğŸ‘‚"],["hear","ğŸ”‰"],["beard","ğŸ§”"],["near","ğŸ¶"]], extras:["dear","fear","gear","tear","year","spear","clear","appear"], sentence:"This <b>spear</b> was dear to Eear. The New <b>Year</b> is <b>near</b>." },
      { p:"ear_air", match:"ear", label:"ear (air)", featured:[["bear","ğŸ»"],["pear","ğŸ"],["wear","ğŸ‘—"],["tear","ğŸ’¸"]], extras:[], sentence:"Larry <b>wear</b>s a scarf with <b>tear</b>s. The hungry <b>bear</b> found a juicy <b>pear</b> and ate it." },
      { p:"all", featured:[["ball","âš½"],["wall","ğŸ§±"],["tall","ğŸ“"],["small","ğŸ¤"]], extras:["mall","call","hall","gall","fall","pall","waterfall","rainfall"], sentence:"The <b>tall</b> <b>wall</b> of the <b>mall</b> is painted in blue. I want to <b>call</b> the <b>tall</b> Paul who works at the <b>mall</b>." },
      { p:"air", featured:[["pair","ğŸ‘"],["chair","ğŸª‘"],["hair","ğŸ’‡"],["stairs","ğŸªœ"]], extras:["lair","fair","dairy","fairy","flair","repair","eclair","airship"], sentence:"He used hammer and nails to <b>repair</b> the <b>chair</b>. Barry and Claire are in their fairy lair." }
    ]
  },
  D3: {
    name: "Set D3", vowel: "Tricky Sounds", pos: "any", patterns: [
      { p:"s_z", match:"s", label:"s /z/", featured:[["dogs","ğŸ•"],["boys","ğŸ‘¦"],["rose","ğŸŒ¹"],["nose","ğŸ‘ƒ"]], extras:["easy","lose","keys","season","cheese","please","stories","berries"], sentence:"Those <b>boys</b> always seem to lose their keys. It is easy to say please!" },
      { p:"o_long", match:"o", label:"o (long)", featured:[["gold","ğŸ’°"],["phone","ğŸ“±"],["toad","ğŸ¸"],["smoke","ğŸ’¨"]], extras:["go","no","bold","bone","note","mole","hole","grow"], sentence:"The tan <b>mole</b> dug a wide <b>hole</b>. <b>Smoke</b> in the stove is not safe!" },
      { p:"y_long_e", match:"y", label:"y (long e)", featured:[["happy","ğŸ˜Š"],["baby","ğŸ‘¶"],["bunny","ğŸ°"],["candy","ğŸ¬"]], extras:["lazy","pony","tiny","jelly","funny","penny","sorry","fluffy"], sentence:"The tiny pony is furry and lazy. I have a fluffy, silly <b>bunny</b> named Polly." },
      { p:"c_soft", match:"c", label:"c (soft)", featured:[["dice","ğŸ²"],["city","ğŸ™ï¸"],["ice","ğŸ§Š"],["dance","ğŸ’ƒ"]], extras:["ace","cent","face","mice","race","circle","circus","pencil"], sentence:"I like to <b>dance</b> in the <b>city</b> square. Pat races in circles around the circus." },
      { p:"g_soft", match:"g", label:"g (soft)", featured:[["gem","ğŸ’"],["cage","ğŸ¦"],["giraffe","ğŸ¦’"],["giant","ğŸ§”"]], extras:["age","gym","page","huge","angel","range","gentle","energy"], sentence:"The gentle <b>giant</b> has lots of energy. The huge <b>giraffe</b> is too big for a <b>cage</b>." }
    ]
  },
  D4: {
    name: "Set D4", vowel: "Word Endings", pos: "end", patterns: [
      { p:"ous", featured:[["curious","ğŸ¤”"],["anxious","ğŸ˜°"],["dangerous","âš ï¸"],["delicious","ğŸ‘¨â€ğŸ³"]], extras:["famous","cautious","serious","joyous","nervous","disastrous","enormous"], sentence:"The <b>famous</b> thief is <b>dangerous</b>. The serious man is nervous and <b>anxious</b>." },
      { p:"dge", featured:[["fridge","ğŸ§Š"],["badge","ğŸ…"],["bridge","ğŸŒ‰"],["judge","âš–ï¸"]], extras:["edge","wedge","ridge","lodge","dodge","sludge","smudge","grudge"], sentence:"The <b>judge</b> will send the crook to jail. There is a green <b>badge</b> on the <b>fridge</b>." },
      { p:"ture", featured:[["picture","ğŸ–¼ï¸"],["pasture","ğŸ„"],["sculpture","ğŸº"],["vulture","ğŸ¦…"]], extras:["nature","future","mature","moisture","rupture","mixture","culture","texture"], sentence:"At home we have a <b>picture</b> of a <b>pasture</b>. The mature <b>vulture</b> has bright future." },
      { p:"tch", featured:[["kitchen","ğŸ³"],["catch","ğŸ£"],["ditch","ğŸ•³ï¸"],["watch","âŒš"]], extras:["match","hatch","patch","latch","fetch","hitch","stitch","sketch"], sentence:"Can you <b>sketch</b> a rabbit's hutch? I'll <b>catch</b> you in the <b>kitchen</b> later for a quick chat." },
      { p:"tion", featured:[["vacation","ğŸ–ï¸"],["pollution","ğŸ­"],["education","ğŸ‘¨â€ğŸ«"],["station","ğŸš‰"]], extras:["nation","action","emotion","lotion","mission","mention","equation","instruction"], sentence:"James will need lotion for his <b>vacation</b>. Use caution at the bus <b>station</b>." },
      { p:"sion", featured:[["collision","ğŸ’¥"],["explosion","ğŸ’£"],["television","ğŸ“º"],["confusion","ğŸ˜•"]], extras:["tension","session","revision","expression","division","invasion","conclusion"], sentence:"My conclusion will cause <b>confusion</b>. We need a decision in this session." }
    ]
  },
  D5: {
    name: "Set D5", vowel: "Silent Letters", pos: "any", patterns: [
      { p:"wr", featured:[["write","âœï¸"],["wrist","ğŸ¤š"],["wrong","âŒ"],["wrap","ğŸ"]], extras:["wry","wreck","wretch","wrote","writer","wrinkle","wrestle","wreath"], sentence:"<b>Wren</b> likes wrestling and writing. Mr. Wright always <b>wrote</b> the <b>wrong</b> things!" },
      { p:"rh", featured:[["rhino","ğŸ¦"],["rhyme","ğŸµ"],["rhombus","ğŸ”¶"],["rhubarb","ğŸŒ¿"]], extras:[], sentence:"Rhonda thinks the <b>rhino</b> is funny. How many words can you think of that <b>rhyme</b> with cat?" },
      { p:"ch_k", match:"ch", label:"ch (k)", featured:[["school","ğŸ«"],["chemistry","ğŸ§ª"],["anchor","âš“"],["stomach","ğŸ¤¢"]], extras:["ache","echo","orchid","chorus","scholar","scheme","Christmas","orchestra"], sentence:"We celebrated <b>Christmas</b> at <b>school</b>. The scholar has <b>stomach</b> ache." },
      { p:"mb", featured:[["climb","ğŸ§—"],["thumb","ğŸ‘"],["lamb","ğŸ‘"],["comb","ğŸ’‡"]], extras:["numb","limb","bomb","tomb","dumb","crumb","plumb"], sentence:"Dad will <b>climb</b> up the ladder to fix the gutters. His <b>thumb</b> became numb after he hit it with a hammer." },
      { p:"kn", featured:[["knight","âš”ï¸"],["knife","ğŸ”ª"],["knee","ğŸ¦µ"],["knot","ğŸª¢"]], extras:["knit","knob","know","knock","kneel","knead","knuckle","knack"], sentence:"The <b>knight</b> <b>knock</b>s on the door. Do you <b>know</b> how to fix this <b>knot</b>?" },
      { p:"gn", featured:[["gnome","ğŸ§™"],["gnaw","ğŸ¦«"],["sign","ğŸª§"]], extras:["gnu","gnat","gnarl","gnash","signed","design"], sentence:"The <b>gnome</b> signed the wrong paper. My dog refused to <b>gnaw</b> a bone." }
    ]
  }
};

const LEVELS = [
  { id:1, name:"Level 1", freq:"Everyday Practice", sets:["A1","A2","A3","A4","A5"] },
  { id:2, name:"Level 2", freq:"Twice a Week", sets:["B1","B2","B3","B4","B5"] },
  { id:3, name:"Level 3", freq:"Once a Week", sets:["C1","C2","C3","C4","C5"] },
  { id:4, name:"Level 4", freq:"Once Every 2 Weeks", sets:["D1","D2","D3","D4","D5"] }
];

// ==================== STATE ====================
let game = { screen:'welcome', setKey:null, studyIdx:0, batch:[], questionIndex:0, score:0, options:[], answered:false, selectedAnswer:null, hadWrongAttempt:false, correctOnFirst:[], totalCorrectFirst:0 };

// ==================== AUDIO ====================
let audioCtx=null;
function getAudioCtx(){if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();return audioCtx}
function playTone(f,d,t='sine',v=.15){try{const c=getAudioCtx(),o=c.createOscillator(),g=c.createGain();o.type=t;o.frequency.setValueAtTime(f,c.currentTime);g.gain.setValueAtTime(v,c.currentTime);g.gain.exponentialRampToValueAtTime(.001,c.currentTime+d);o.connect(g);g.connect(c.destination);o.start();o.stop(c.currentTime+d)}catch(e){}}
function playCorrectSound(){playTone(523,.12);setTimeout(()=>playTone(659,.12),100);setTimeout(()=>playTone(784,.15),200);setTimeout(()=>playTone(1047,.3,'sine',.12),300)}
function playWrongSound(){playTone(300,.15,'sine',.1);setTimeout(()=>playTone(250,.25,'sine',.1),120)}
function playCelebration(){[523,659,784,1047,784,1047,1319].forEach((n,i)=>setTimeout(()=>playTone(n,.2,'sine',.12),i*120))}

const audioCache={};
const ELEVEN_VOICE_ID='21m00Tcm4TlvDq8ikWAM';
function getKey(){return localStorage.getItem('wordadventure_11labs_key')||''}
async function speak(text){
  const k=getKey();
  if(!k){window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(text);u.rate=.85;u.pitch=1.1;const v=window.speechSynthesis.getVoices().find(v=>/samantha|karen|google.*us/i.test(v.name));if(v)u.voice=v;window.speechSynthesis.speak(u);return}
  const ck=text.toLowerCase().trim();
  if(audioCache[ck]){audioCache[ck].cloneNode().play().catch(()=>{});return}
  try{const r=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${ELEVEN_VOICE_ID}`,{method:'POST',headers:{'xi-api-key':k,'Content-Type':'application/json'},body:JSON.stringify({text,model_id:'eleven_turbo_v2',voice_settings:{stability:.75,similarity_boost:.75,style:.4}})});if(!r.ok)throw 0;const b=await r.blob(),a=new Audio(URL.createObjectURL(b));audioCache[ck]=a;a.play().catch(()=>{})}catch(e){window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(text);u.rate=.85;u.pitch=1.1;window.speechSynthesis.speak(u)}
}
window.speechSynthesis.getVoices();

// ==================== CONFETTI ====================
const cCanvas=document.getElementById('confetti-canvas'),cCtx=cCanvas.getContext('2d');let cParts=[],cAnim=null;
function resizeC(){cCanvas.width=innerWidth;cCanvas.height=innerHeight}addEventListener('resize',resizeC);resizeC();
function launchConfetti(n=50){const cols=['#00FFF2','#00DDC9','#00BBAA','#fff','#88FFFA','#33FFE8'];for(let i=0;i<n;i++)cParts.push({x:Math.random()*cCanvas.width,y:-20-Math.random()*100,w:6+Math.random()*7,h:4+Math.random()*5,color:cols[Math.floor(Math.random()*cols.length)],vx:(Math.random()-.5)*4,vy:2+Math.random()*4,rot:Math.random()*360,rotV:(Math.random()-.5)*10,life:1});if(!cAnim)animC()}
function animC(){cCtx.clearRect(0,0,cCanvas.width,cCanvas.height);cParts.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.vy+=.1;p.rot+=p.rotV;p.life-=.005;cCtx.save();cCtx.translate(p.x,p.y);cCtx.rotate(p.rot*Math.PI/180);cCtx.globalAlpha=Math.max(0,p.life);cCtx.fillStyle=p.color;cCtx.fillRect(-p.w/2,-p.h/2,p.w,p.h);cCtx.restore()});cParts=cParts.filter(p=>p.life>0&&p.y<cCanvas.height+50);cParts.length>0?cAnim=requestAnimationFrame(animC):(cCtx.clearRect(0,0,cCanvas.width,cCanvas.height),cAnim=null)}

// ==================== HELPERS ====================
function shuffle(a){const b=[...a];for(let i=b.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]]}return b}
function highlightPattern(word,pattern){const i=word.indexOf(pattern);if(i===-1)return word;return word.slice(0,i)+`<span>${pattern}</span>`+word.slice(i+pattern.length)}

// ==================== GAME LOGIC ====================
function selectSet(key){game.setKey=key;game.screen='setMenu';render()}
function startStudy(){game.screen='study';game.studyIdx=0;render()}
function studyNav(dir){const set=SETS[game.setKey];game.studyIdx=Math.max(0,Math.min(set.patterns.length-1,game.studyIdx+dir));render()}

function startQuiz(){
  const set=SETS[game.setKey];
  const pos=set.pos||'end';
  // Gather all featured words from all patterns in this set
  let allWords=[];
  set.patterns.forEach(pat=>{
    const lbl=pat.label||pat.p;
    const disp=pos==='any'?lbl:pos==='start'?lbl+'-':'-'+lbl;
    pat.featured.forEach(([w,e])=>{
      if(w!=='toy box') allWords.push({word:w,emoji:e,pattern:pat.p,patternDisplay:disp});
    });
  });
  const batch=shuffle(allWords).slice(0,10);
  game={...game,screen:'quiz',batch,questionIndex:0,score:0,options:[],answered:false,selectedAnswer:null,hadWrongAttempt:false,correctOnFirst:new Array(10).fill(false),totalCorrectFirst:0};
  setupQuestion();
  render();
  setTimeout(()=>speak(game.batch[0].word),500);
}

function setupQuestion(){
  const set=SETS[game.setKey];
  const pos=set.pos||'end';
  const target=game.batch[game.questionIndex];
  // Pick 3 distractors from other patterns
  let pool=[];
  set.patterns.forEach(pat=>{
    if(pat.p!==target.pattern){
      const lbl=pat.label||pat.p;
      const disp=pos==='any'?lbl:pos==='start'?lbl+'-':'-'+lbl;
      pat.featured.forEach(([w,e])=>{if(w!=='toy box')pool.push({word:w,emoji:e,pattern:pat.p,patternDisplay:disp})});
    }
  });
  const distractors=shuffle(pool).slice(0,3);
  game.options=shuffle([target,...distractors]);
  game.answered=false;game.selectedAnswer=null;game.hadWrongAttempt=false;
}

function checkAnswer(idx){
  if(game.answered)return;
  const sel=game.options[idx],target=game.batch[game.questionIndex];
  game.selectedAnswer=idx;
  if(sel.word===target.word){
    game.answered=true;
    if(!game.hadWrongAttempt){game.score+=10;game.correctOnFirst[game.questionIndex]=true;game.totalCorrectFirst++}
    playCorrectSound();launchConfetti(40);speak(target.word);render();
    setTimeout(()=>nextQuestion(),1800);
  } else {
    game.hadWrongAttempt=true;playWrongSound();render();
    setTimeout(()=>{game.selectedAnswer=null;render()},800);
  }
}

function nextQuestion(){
  game.questionIndex++;
  if(game.questionIndex>=game.batch.length){
    game.screen='results';playCelebration();launchConfetti(100);render();
  } else {
    setupQuestion();render();
    setTimeout(()=>speak(game.batch[game.questionIndex].word),400);
  }
}

function goHome(){game.screen='welcome';render()}
function goSet(){game.screen='setMenu';render()}
function replayQuiz(){startQuiz()}

// ==================== RENDER ====================
function render(){
  const app=document.getElementById('app');
  if(game.screen==='welcome') app.innerHTML=renderWelcome();
  else if(game.screen==='setMenu') app.innerHTML=renderSetMenu();
  else if(game.screen==='study') app.innerHTML=renderStudy();
  else if(game.screen==='quiz') app.innerHTML=renderQuiz();
  else if(game.screen==='results') app.innerHTML=renderResults();
}

function patDisplay(pat, pos){
  const lbl = pat.label || pat.p;
  if (pos === 'any') return lbl;
  return pos === 'start' ? lbl+'-' : '-'+lbl;
}

function renderWelcome(){
  let sections='';
  LEVELS.forEach(lv=>{
    let sets='';
    lv.sets.forEach(k=>{
      const s=SETS[k];
      const isPrefix=s.pos==='start';
      const pats=s.patterns.map(p=>patDisplay(p,s.pos||'end')).join('  ');
      sets+=`<button class="set-btn" onclick="selectSet('${k}')">
        <span class="set-label">${k}</span>
        <span><strong>${s.vowel}</strong><div class="set-patterns">${pats}</div></span>
        <span class="set-arrow">â€º</span>
      </button>`;
    });
    sections+=`<div class="level-section">
      <div class="level-badge">${lv.name} â€” ${lv.freq}</div>
      <div class="set-grid">${sets}</div>
    </div>`;
  });
  return `<div class="welcome">
    <img src="/images/scholar-ant.svg" alt="The Scholar Ant" class="mascot">
    <h1>Sound <span>Explorer</span></h1>
    <p class="subtitle">Learn letter-sound patterns</p>
    ${sections}
    <a href="/" class="back-btn">&larr; All Games</a>
  </div>`;
}

function renderSetMenu(){
  const s=SETS[game.setKey];
  const pos=s.pos||'end';
  const chips=s.patterns.map(p=>`<span class="pattern-chip">${patDisplay(p,pos)}</span>`).join('');
  return `<div class="set-menu">
    <h2>${s.vowel}</h2>
    <p class="set-desc">${s.name} â€” ${s.patterns.length} patterns to learn</p>
    <div class="pattern-chips">${chips}</div>
    <div class="mode-buttons">
      <button class="mode-btn study" onclick="startStudy()">ğŸ“– Study Cards</button>
      <button class="mode-btn quiz" onclick="startQuiz()">âš¡ Start Quiz</button>
    </div>
    <button class="back-btn" onclick="goHome()">&larr; All Sets</button>
  </div>`;
}

function renderStudy(){
  const s=SETS[game.setKey],pat=s.patterns[game.studyIdx];
  const matchP=pat.match||pat.p;
  const pos=s.pos||'end';
  const lbl=pat.label||pat.p;
  const patHtml=pos==='any'?lbl:pos==='start'?`${lbl}<span class="pat-dash">-</span>`:`<span class="pat-dash">-</span>${lbl}`;
  const featured=pat.featured.map(([w,e])=>{
    const hw=highlightPattern(w,matchP);
    return `<div class="featured-word" onclick="speak('${w}')"><span class="fw-emoji">${e}</span><span class="fw-text">${hw}</span></div>`;
  }).join('');
  const extras=pat.extras.map(w=>`<span class="extra-word" onclick="speak('${w}')">${w}</span>`).join('');
  const dots=s.patterns.map((_,i)=>`<span class="nav-dot ${i===game.studyIdx?'active':''}"></span>`).join('');
  return `<div class="study-screen">
    <div class="study-header">
      <span class="set-name">${s.name} â€” ${s.vowel}</span>
      <span class="card-count">${game.studyIdx+1} / ${s.patterns.length}</span>
    </div>
    <div class="study-card">
      <div class="study-pattern">${patHtml}</div>
      <div class="featured-grid">${featured}</div>
      ${extras?`<div class="extras-row">${extras}</div>`:''}
      <div class="sentence-bar">${pat.sentence}</div>
    </div>
    <div class="study-nav">
      <button class="nav-btn" onclick="studyNav(-1)" ${game.studyIdx===0?'disabled':''}>â€¹</button>
      <div class="nav-dots">${dots}</div>
      <button class="nav-btn" onclick="studyNav(1)" ${game.studyIdx===s.patterns.length-1?'disabled':''}>â€º</button>
    </div>
    <button class="start-quiz-btn" onclick="startQuiz()">Start Quiz</button>
    <br><button class="back-btn" onclick="goSet()">&larr; Back</button>
  </div>`;
}

function renderQuiz(){
  const target=game.batch[game.questionIndex];
  const total=game.batch.length;
  const progress=((game.questionIndex+(game.answered?1:0))/total)*100;
  let opts='';
  game.options.forEach((o,i)=>{
    let cls='option-btn';
    if(game.answered&&o.word===target.word)cls+=' correct';
    else if(game.selectedAnswer===i&&o.word!==target.word)cls+=' wrong';
    if(game.answered)cls+=' disabled';
    opts+=`<button class="${cls}" onclick="checkAnswer(${i})">${o.word}</button>`;
  });
  let fb='';
  if(game.answered) fb=`<div class="feedback correct-fb">That's right! &mdash; <strong>${target.word}</strong> <span class="pattern-tag">${target.patternDisplay}</span></div>`;
  else if(game.selectedAnswer!==null) fb=`<div class="feedback wrong-fb">Not quite â€” try again</div>`;
  return `<div class="quiz">
    <div class="quiz-header"><div class="score-display"><span class="pts">${game.score}</span> pts</div><div class="progress-display">${game.questionIndex+1} / ${total}</div></div>
    <div class="progress-bar"><div class="progress-fill" style="width:${progress}%"></div></div>
    <div class="emoji-area"><span class="emoji-big">${target.emoji}</span>
    <button class="speaker-btn" onclick="speak('${target.word}')" title="Hear the word">&#128266;</button></div>
    <div class="options-grid">${opts}</div>
    ${fb}
  </div>`;
}

function renderResults(){
  const total=game.batch.length,pct=game.totalCorrectFirst/total;
  let sc=1;if(pct>=.6)sc=2;if(pct>=.9)sc=3;
  let stars='';for(let i=0;i<3;i++)stars+=`<span class="star-anim">${i<sc?'â­':'â˜†'}</span>`;
  let cards='';game.batch.forEach((w,i)=>{
    const ok=game.correctOnFirst[i];
    cards+=`<div class="review-card ${ok?'':'missed'}"><span class="r-emoji">${w.emoji}</span><span><span class="r-word">${w.word}</span><br><span class="r-pattern">${w.patternDisplay}</span></span><span class="r-check">${ok?'âœ…':'ğŸ”„'}</span></div>`;
  });
  return `<div class="results">
    <h2>All <span>Done!</span></h2>
    <div class="stars-area">${stars}</div>
    <div class="score-final">You scored <strong>${game.score}</strong> out of ${total*10}<br>${game.totalCorrectFirst}/${total} correct on first try</div>
    <div class="review-section"><h3>Your Words</h3><div class="review-grid">${cards}</div></div>
    <div class="results-buttons">
      <button class="btn-replay" onclick="replayQuiz()">Play Again</button>
      <button class="btn-home" onclick="goSet()">Back to Set</button>
    </div>
    <button class="back-btn" onclick="goHome()">&larr; All Sets</button>
  </div>`;
}

render();
</script>
</body>
</html>